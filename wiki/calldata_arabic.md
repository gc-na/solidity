<!--
Meta Description: # calldata في Solidity: فهم واستخدام ## ملخص `calldata` هو نوع بيانات في Solidity يُستخدم لتمرير البيانات غير القابلة للتغيير إلى الدوال. يُعتبر `call...
Meta Keywords: calldata, البيانات, solidity, غير, استخدام
-->

# calldata في Solidity: فهم واستخدام

## ملخص
`calldata` هو نوع بيانات في Solidity يُستخدم لتمرير البيانات غير القابلة للتغيير إلى الدوال. يُعتبر `calldata` خيارًا مثاليًا عند التعامل مع البيانات المستلمة من الخارج، مما يقلل من تكاليف الغاز ويزيد من كفاءة العمليات.

## الوثائق
`calldata` هو نوع خاص من مواقع الذاكرة في Solidity يُستخدم فقط كمعاملات للدوال. يُعتبر `calldata` غير قابل للتغيير، مما يعني أنه لا يمكن تعديل البيانات الموجودة فيه. يتم استخدامه بشكل شائع مع الدوال الخارجية (external functions) لضمان عدم حدوث أي تعديل على البيانات المدخلة.

### الهدف والاستخدام
- **تقليل تكاليف الغاز**: من خلال استخدام `calldata`، يمكنك تقليل تكاليف الغاز المرتبطة بعمليات النسخ، حيث يتم تمرير البيانات بشكل مباشر دون الحاجة إلى نسخها إلى الذاكرة.
- **زيادة الأمان**: بما أن البيانات في `calldata` غير قابلة للتغيير، فإن ذلك يقلل من فرص حدوث أخطاء أو تغييرات غير متعمدة.

### التفاصيل
- `calldata` هو نوع بيانات غير متغير، مما يعني أنه لا يمكن تعديله بعد تمريره إلى الدالة.
- يجب استخدام `calldata` فقط مع الدوال الخارجية أو الدوال المعروفة باسم `view` و `pure`.
- يمكن استخدام `calldata` مع أنواع البيانات الديناميكية مثل المصفوفات أو السلاسل النصية.

## أمثلة
### مثال 1: استخدام `calldata` مع مصفوفة
```solidity
pragma solidity ^0.8.0;

contract Example {
    function sum(uint[] calldata numbers) external pure returns (uint) {
        uint total = 0;
        for (uint i = 0; i < numbers.length; i++) {
            total += numbers[i];
        }
        return total;
    }
}
```

### مثال 2: استخدام `calldata` مع سلسلة نصية
```solidity
pragma solidity ^0.8.0;

contract Example {
    function greet(string calldata name) external pure returns (string memory) {
        return string(abi.encodePacked("Hello, ", name));
    }
}
```

## الشرح
### الأخطاء الشائعة
- **استخدام `calldata` مع دوال غير متوافقة**: يجب أن تكون الدالة من النوع الخارجي أو من نوع `view` أو `pure`. إذا حاولت استخدام `calldata` مع دالة عادية، سيؤدي ذلك إلى خطأ في الترجمة.
- **عدم القدرة على تعديل البيانات**: إذا كنت بحاجة إلى تعديل البيانات، يجب أن تستخدم `memory` بدلاً من `calldata`.

### ملاحظات إضافية
- `calldata` غير مُتاح كخيار في جميع الأماكن، لذا تأكد من فهم متطلبات الدالة قبل استخدامه.
- يمكن أن يؤدي استخدام `calldata` إلى تحسين الأداء بشكل كبير، خاصة عند التعامل مع كميات كبيرة من البيانات.

## ملخص جملة واحدة
`calldata` هو نوع بيانات في Solidity يُستخدم لتمرير بيانات غير قابلة للتغيير، مما يعزز الكفاءة ويقلل من تكاليف الغاز.