<!--
Meta Description: # استخدام دالة "receive" في لغة Solidity: كل ما تحتاج معرفته ## ملخص دالة "receive" في Solidity هي دالة خاصة تسمح للعقود الذكية بتلقي الإيثر (Ether) ب...
Meta Keywords: دالة, receive, العقد, solidity, الإيثر
-->

# استخدام دالة "receive" في لغة Solidity: كل ما تحتاج معرفته

## ملخص
دالة "receive" في Solidity هي دالة خاصة تسمح للعقود الذكية بتلقي الإيثر (Ether) بشكل مباشر. تعتبر هذه الدالة جزءًا أساسيًا من إدارة المعاملات داخل شبكة Ethereum، وتساعد في تسهيل عمليات الإرسال والاستقبال للإيثر بين العقود.

## الوثائق
### الغرض من دالة "receive"
تستخدم دالة "receive" لتحديد كيفية تعامل العقد الذكي مع الإيثر المرسل إليه. عندما يتم إرسال إيثر إلى العقد دون استدعاء دالة معينة، يتم استدعاء دالة "receive" تلقائيًا.

### الاستخدام
- يجب أن تكون دالة "receive" غير مهيأة (payable)، مما يعني أنه يمكنها تلقي الأموال.
- يمكن أن تحتوي على منطق معين يتم تنفيذه عند تلقي الإيثر.
- لا يمكن أن تأخذ أي معلمات ولا تعيد قيمة.

### تفاصيل
- دالة "receive" تُعتبر بديلاً عن دالة fallback القديمة.
- يمكن أن تتواجد دالة "receive" مع دالة fallback في نفس العقد.
- يجب أن تكون هناك دالة "receive" واحدة فقط في العقد، ولا يمكن أن توجد أكثر من واحدة.

## أمثلة
### مثال بسيط على استخدام دالة "receive"
```solidity
pragma solidity ^0.8.0;

contract MyContract {
    event Received(address sender, uint amount);

    // دالة receive لتلقي الإيثر
    receive() external payable {
        emit Received(msg.sender, msg.value);
    }
}
```

### كيفية استدعاء دالة "receive"
يمكنك استدعاء دالة "receive" عن طريق إرسال إيثر إلى عنوان العقد:
```javascript
// باستخدام Web3.js
await web3.eth.sendTransaction({
    from: senderAddress,
    to: contractAddress,
    value: web3.utils.toWei("1", "ether")
});
```

## الشرح
### الأخطاء الشائعة
- **عدم وضع دالة "receive":** إذا لم يكن هناك دالة "receive" في العقد، فلن يتمكن العقد من تلقي الإيثر.
- **تجربة المعاملات الفاشلة:** إذا كان هناك خطأ في تنفيذ دالة "receive"، سيتم إلغاء المعاملة.
- **الجمع بين الدوال:** يجب أن تكون دالة "receive" وحيدة، ولا يمكن أن تكون هناك دالتان تحملان نفس الاسم.

### ملاحظات إضافية
- تأكد من استخدام الإصدارات الحديثة من Solidity (مثل 0.6.0 وما بعده) لضمان دعم دالة "receive".
- دالة "receive" لا يمكن استخدامها مع العبارات `return` أو `throw`.

## ملخص في جملة واحدة
دالة "receive" في Solidity هي دالة خاصة تسمح للعقود الذكية بتلقي الإيثر مباشرة، مما يسهل إدارة المعاملات المالية.